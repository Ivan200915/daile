version: '3.8'

services:
  daily-discipline:
    build:
      context: .
      args:
        API_KEY: ${API_KEY}
    container_name: daily-discipline
    restart: unless-stopped
    ports:
      - "3001:80"  # Change 3001 to your preferred port
    networks:
      - webnet
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.daily-discipline.rule=Host(`discipline.yourdomain.com`)"
      - "traefik.http.services.daily-discipline.loadbalancer.server.port=80"

networks:
  webnet:
    external: true
